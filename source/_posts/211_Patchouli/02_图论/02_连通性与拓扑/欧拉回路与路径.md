---
title: 欧拉回路与路径 (Eulerian_Path)
tags:
  - 图论/连通性
  - 图论/欧拉路径
categories:
  - 211_Patchouli
  - 02_图论
  - 02_连通性与拓扑
abbrlink: 3fe2b20c
date: 2025-12-15 08:50:52
updated: 2025-12-24 19:08:11
---
# 欧拉回路与路径

## 1. 生态位

- **定义**: 欧拉路径（回路）是指在图中经过每条边恰好一次的路径（且回到起点）。其本质是研究图在“边完全覆盖”下的连通性约束。它奠定了网络流路径分解与离散数学拓扑问题的基础。
    
- **解决痛点**: 解决了笔不离纸绘制图形的可行性判定、基因测序重组以及环形排班问题。
    

## 2. 逻辑支点

- **度数守恒律**:
    
    - **无向图**: 回路要求所有点度数为偶数；路径允许且仅允许两个奇度数点。
        
    - **有向图**: 回路要求所有点入度等于出度；路径允许一个 $out = in + 1$（起点）和一个 $in = out + 1$（终点）。
        
- **Hierholzer 算法核心**: 采用“回溯时刻记录”的策略。当一个点的所有邻边都被访问且无法继续深入时，该点才被正式纳入结果序列。这保证了在环路递归中，分支环能正确地嵌入主路径。
    
- **渗透点**: 欧拉路径是“死胡同”的对立面。只有在确认该点再无可走边（陷入逻辑死局）时，它才是路径末梢的合法人选。
    

## 3. 实战部署

### 3.1 Hierholzer 算法 (含当前弧优化)

{% fold info @Code: Hierholzer Standard %}

```cpp
vector< int > adj[ maxn ];
int cur[ maxn ]; // 当前弧优化：防止重复遍历已访问的边
stack< int > ans;

void dfs_euler( int u )
{
    // &i 必须是引用，确保 cur[u] 随递归推进
    for( int &i = cur[ u ]; i < adj[ u ].size( ); )
    {
        int v = adj[ u ][ i ];
        ++ i; // 逻辑删边
        dfs_euler( v );
    }
    ans.push( u ); // 回溯记录
}
```

{% endfold %}

## 4. 知识粘附

- **变体模型**:
    
    - **混合图欧拉回路**: 利用网络流判定方向。
        
    - **字典序最小欧拉路径**: 预先对邻接表进行排序。
        
- **母题索引**:
    
    - [P7771 模板 欧拉路径](P7771%20模板%20欧拉路径.md)