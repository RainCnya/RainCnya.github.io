---
title: '[L2] 30_动态规划'
tags:
  - Meta/Guide
  - 难度/P5
categories:
  - 210_Atlas
  - 30_动态规划
abbrlink: 2a5aca6a
date: 2026-01-04 00:00:00
---

# [L2] 30_动态规划

> **核心哲学**：动态规划是在决策空间中有向无环图上寻找最优路径。
> 优化的直觉在于：
> “剪枝”：提前识破某个决策是永远不可能胜出的“垃圾”，
> “降维”：要么通过数学工具将重复的搜索复杂度。

## 1. 知识图谱与演化

- **核心工具**: 状态精简、决策单调性、贡献度复用、维度拆解。
    
- **演化路径**:
    
    1. **基础模型**：线性、背包、区间、树形。解决“怎么定义状态”和“怎么转移”的问题。
        
    2. **状态压缩**：利用位运算将零散的状态压缩为整数，在小规模数据下实现全状态空间的覆盖。
        
    3. **决策优化**：利用单调队列、斜率、四边形不等式。利用数学性质从决策点降维。
        
	4. **异构结合**：将 DP 的转移逻辑挂载在自动机（如 AC 自动机）或数据结构上，处理带有复杂字符串限制或动态区间修改的决策任务。

## 2. 决策矩阵

- **状态看起来像开关且规模** $N \le 20$: 优先考虑 [[Note] 状压 DP]。若涉及网格图的连通性维护，升级为 [[Note] 插头 DP]。
    
- **转移方程形如** $dp[i] = \min(dp[j] + \text{cost}(j, i))$**，且** $\text{cost}$ **满足决策单调性**:
    
    - 若 $\text{cost}$ 为简单的窗口最值，采用 [[Note] 单调队列优化]。
        
    - 若 $\text{cost}$ 包含 $i$ 与 $j$ 的乘积项（如坐标乘积），采用 [[Note] 斜率优化]。
        
    - 若 $\text{cost}$ 满足区间包含单调性，尝试 [[Note] 四边形不等式]。
        
- **题目涉及字符串匹配统计且要求方案数**: 结合自动机（如 AC 自动机、后缀自动机）进行路径计数。
    
- **树形统计涉及子树合且复杂度过高**: 考虑长链剖分或树上启发式合并（DSU on Tree）。

## 3. 核心板块索引

### 3.1 [L3] [[31_经典模型]]

- [[线性DP]]: 解决具有明显线性规律的决策。
		
- [[背包DP]]: 解决资源受限下的选择决策。
		
- [[区间DP]]: 解决以区间为单位进行合并或分裂的问题。
		
- [[Note] 树形 DP]: 在递归回溯中维护子树的最优状态。

### 3.2 [L3] [[32_状态压缩]]

- [[Note] 状压 DP]: 利用位运算将多个开关状态压缩为单一整数。
	    
- [[Note] 插头 DP]: 处理网格图路径连通性的终极手段。


### 3.3 [L3] [[33_决策优化]]

- [[Note] 单调队列优化]: 及时踢出没用的决策，保持候选集合的纯净。
	
- [[Note] 斜率优化]: 利用凸包性质在 $O(1)$ 或 $O(\log N)$ 内锁定最优解。
	
- [[Note] 四边形不等式]: 利用决策点的单调移动性减少搜索范围。

### 3.4 [L3] [[34_进阶模型]]

- [[Note] 数位 DP]: 针对大范围数字统计的按位决策。
	
- [[Note] 计数 DP]: 针对方案数类的计数问题。
	
- [[Note] 自动机 DP ]: 在状态机图上进行动态演化。


## 4. 依赖与规划

- **前置依赖**: 递归、记忆化搜索、位运算基础。
    
- **学习路径**:
    
    - **P1 底座**：经典模型（线性/背包/区间）。
        
    - **P2 中坚**：状压 DP + 单调队列优化 + 数位 DP。
        
    - **P3 进阶**：斜率优化 + 树上背包优化 + 插头 DP。

## 5. 题目归档

所有题目复盘请参考：[[动态规划归档数据库]]