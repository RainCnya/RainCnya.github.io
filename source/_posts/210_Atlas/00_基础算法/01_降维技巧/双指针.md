---
title: '[Note] 双指针'
tags:
  - 算法/双指针
  - 难度/P0
categories:
  - 210_Atlas
  - 00_基础算法
  - 01_降维技巧
abbrlink: c29d9edd
date: 2026-01-17 00:00:00
---
# [L4] 双指针

## 1. 生态位

- **识别**:
    
    1. 题目涉及“连续区间”的寻找或统计。
        
    2. 当右端点向右移动时，为了满足条件，左端点只需跟着向右挪，而绝对不需要往回跳。
        
- **地位**: 核心基础算法，是处理线性序列最常用的优化手段。
    
- **用途**: 利用单调性，将原本需要两层循环嵌套的 $O(N^2)$ 搜索，优化为仅需扫描一遍的 $O(N)$。

## 2. 逻辑支点

- **核心原理：绝不回头**:
    
    - **物理直觉**：就像两个人在跑道上同向跑。右边的人负责探索新边界，左边的人负责清理冗余或维持合法性。由于左端点不需要回溯，我们只扫一遍就能穷尽所有有潜力的区间。
        
- **具体原理**:
    
    - **窗口维护**：维护一个“扩张-收缩”系统。右指针进场时更新统计量，左指针出场时剔除影响。
        
    - **逻辑不变量**：窗口内的统计量（如区间和、元素个数、异或值）必须随端点移动增量更新，省去在循环内重新暴力重算的时间。
        
    - **位运算特性**：在处理“区间和等于异或和”等问题时，由于 $A \& B$ 随区间增大单调不减，进位损耗具备单调性，依然符合双指针逻辑。

## 3. 实战部署

{% fold info @代码实现: 标准滑动窗口模板 %}

```cpp
void solve( )
{
    int l = 1, ans = 0;
    for( int r = 1; r <= n; ++ r )
    {
        // 1. 摄入新元素，增量更新窗口内的状态（如 sum += a[r]）
        add( a[r] );

        // 2. 逻辑审计：如果不符合 check 条件了，收缩左端点
        while( l <= r && ! check( ) )
        {
            remove( a[l] );
            ++ l;
        }

        // 3. 此时 [l, r] 是以 r 结尾的最长合法区间，结算答案
        ans = max( ans, r - l + 1 );
    }
}
```

{% endfold %}

## 4. 知识关联

- **母题**: [[P1638 逛画展]] —— 最短全覆盖区间的经典体现。
    
- **实战案例**: 
	
	- [[ABC440C Striped Horse]]：同余系的滑动窗口。
	- [[TZC25D 灵力平衡]]：比较有趣的三指针写法。